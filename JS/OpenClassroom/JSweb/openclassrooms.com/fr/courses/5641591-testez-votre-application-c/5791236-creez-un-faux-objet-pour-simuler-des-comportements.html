
<!DOCTYPE html>
<html class="no-js " lang="fr" prefix="og: http://ogp.me/ns#">

<!-- Mirrored from openclassrooms.com/fr/courses/5641591-testez-votre-application-c/5791236-creez-un-faux-objet-pour-simuler-des-comportements by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Sep 2021 23:38:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<title>
                            Créez un faux objet pour simuler des comportements - Testez votre application C# - OpenClassrooms
                    </title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta charset="utf-8" /><script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={licenseKey:"NRJS-5b58725ce0d442079d0",applicationID:"156815673"};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var i=e[n]={exports:{}};t[n][0].call(i.exports,function(e){var i=t[n][1][e];return r(i||e)},i,i.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(t,e,n){function r(){}function i(t,e,n){return function(){return o(t,[u.now()].concat(f(arguments)),e?null:this,n),e?void 0:this}}var o=t("handle"),a=t(8),f=t(9),c=t("ee").get("tracer"),u=t("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",l=p+"ixn-";a(d,function(t,e){s[e]=i(p+e,!0,"api")}),s.addPageAction=i(p+"addPageAction",!0),s.setCurrentRouteName=i(p+"routeName",!0),e.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(t,e){var n={},r=this,i="function"==typeof e;return o(l+"tracer",[u.now(),t,n],r),function(){if(c.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return e.apply(this,arguments)}catch(t){throw c.emit("fn-err",[arguments,this,t],n),t}finally{c.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){m[e]=i(l+e)}),newrelic.noticeError=function(t,e){"string"==typeof t&&(t=new Error(t)),o("err",[t,u.now(),!1,e])}},{}],2:[function(t,e,n){function r(t){if(NREUM.init){for(var e=NREUM.init,n=t.split("."),r=0;r<n.length-1;r++)if(e=e[n[r]],"object"!=typeof e)return;return e=e[n[n.length-1]]}}e.exports={getConfiguration:r}},{}],3:[function(t,e,n){function r(){return f.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,f=t(10);e.exports=r,e.exports.offset=a,e.exports.getLastTimestamp=i},{}],4:[function(t,e,n){function r(t){return!(!t||!t.protocol||"file:"===t.protocol)}e.exports=r},{}],5:[function(t,e,n){function r(t,e){var n=t.getEntries();n.forEach(function(t){"first-paint"===t.name?d("timing",["fp",Math.floor(t.startTime)]):"first-contentful-paint"===t.name&&d("timing",["fcp",Math.floor(t.startTime)])})}function i(t,e){var n=t.getEntries();n.length>0&&d("lcp",[n[n.length-1]])}function o(t){t.getEntries().forEach(function(t){t.hadRecentInput||d("cls",[t])})}function a(t){if(t instanceof m&&!g){var e=Math.round(t.timeStamp),n={type:t.type};e<=p.now()?n.fid=p.now()-e:e>p.offset&&e<=Date.now()?(e-=p.offset,n.fid=p.now()-e):e=p.now(),g=!0,d("timing",["fi",e,n])}}function f(t){"hidden"===t&&d("pageHide",[p.now()])}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var c,u,s,d=t("handle"),p=t("loader"),l=t(7),m=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){c=new PerformanceObserver(r);try{c.observe({entryTypes:["paint"]})}catch(v){}u=new PerformanceObserver(i);try{u.observe({entryTypes:["largest-contentful-paint"]})}catch(v){}s=new PerformanceObserver(o);try{s.observe({type:"layout-shift",buffered:!0})}catch(v){}}if("addEventListener"in document){var g=!1,h=["click","keydown","mousedown","pointerdown","touchstart"];h.forEach(function(t){document.addEventListener(t,a,!1)})}l(f)}},{}],6:[function(t,e,n){function r(t,e){if(!i)return!1;if(t!==i)return!1;if(!e)return!0;if(!o)return!1;for(var n=o.split("."),r=e.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var f=navigator.userAgent,c=f.match(a);c&&f.indexOf("Chrome")===-1&&f.indexOf("Chromium")===-1&&(i="Safari",o=c[1])}e.exports={agent:i,version:o,match:r}},{}],7:[function(t,e,n){function r(t){function e(){t(a&&document[a]?document[a]:document[i]?"hidden":"visible")}"addEventListener"in document&&o&&document.addEventListener(o,e,!1)}e.exports=r;var i,o,a;"undefined"!=typeof document.hidden?(i="hidden",o="visibilitychange",a="visibilityState"):"undefined"!=typeof document.msHidden?(i="msHidden",o="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",o="webkitvisibilitychange",a="webkitVisibilityState")},{}],8:[function(t,e,n){function r(t,e){var n=[],r="",o=0;for(r in t)i.call(t,r)&&(n[o]=e(r,t[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],9:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(i<0?0:i);++r<i;)o[r]=t[e+r];return o}e.exports=r},{}],10:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(t,e,n){function r(){}function i(t){function e(t){return t&&t instanceof r?t:t?u(t,c,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){t&&a&&t(n,r,i);for(var f=e(i),c=v(n),u=c.length,s=0;s<u;s++)c[s].apply(f,r);var p=d[w[n]];return p&&p.push([b,n,r,f]),f}}function o(t,e){y[t]=v(t).concat(e)}function m(t,e){var n=y[t];if(n)for(var r=0;r<n.length;r++)n[r]===e&&n.splice(r,1)}function v(t){return y[t]||[]}function g(t){return p[t]=p[t]||i(n)}function h(t,e){l.aborted||s(t,function(t,n){e=e||"feature",w[n]=e,e in d||(d[e]=[])})}var y={},w={},b={on:o,addEventListener:o,removeEventListener:m,emit:n,get:g,listeners:v,context:e,buffer:h,abort:f,aborted:!1};return b}function o(t){return u(t,c,a)}function a(){return new r}function f(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var c="nr@context",u=t("gos"),s=t(8),d={},p={},l=e.exports=i();e.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(t,e,n){function r(t,e,n){if(i.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return t[e]=r,r}var i=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){i.buffer([t],r),i.emit(t,e,n)}var i=t("ee").get("handle");e.exports=r,r.ee=i},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,o,function(){return i++})}var i=1,o="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!R++){var t=M.info=NREUM.info,e=v.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();c(E,function(e,n){t[e]||(t[e]=n)});var n=a();f("mark",["onload",n+M.offset],null,"api"),f("timing",["load",n]);var r=v.createElement("script");0===t.agent.indexOf("http://")||0===t.agent.indexOf("https:///")?r.src=t.agent:r.src=l+"://"+t.agent,e.parentNode.insertBefore(r,e)}}function i(){"complete"===v.readyState&&o()}function o(){f("mark",["domContent",a()+M.offset],null,"api")}var a=t(3),f=t("handle"),c=t(8),u=t("ee"),s=t(6),d=t(4),p=t(2),l=p.getConfiguration("ssl")===!1?"http":"https",m=window,v=m.document,g="addEventListener",h="attachEvent",y=m.XMLHttpRequest,w=y&&y.prototype,b=!d(m.location);NREUM.o={ST:setTimeout,SI:m.setImmediate,CT:clearTimeout,XHR:y,REQ:m.Request,EV:m.Event,PR:m.Promise,MO:m.MutationObserver};var x=""+location,E={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1210.min.js"},O=y&&w&&w[g]&&!/CriOS/.test(navigator.userAgent),M=e.exports={offset:a.getLastTimestamp(),now:a,origin:x,features:{},xhrWrappable:O,userAgent:s,disabled:b};if(!b){t(1),t(5),v[g]?(v[g]("DOMContentLoaded",o,!1),m[g]("load",r,!1)):(v[h]("onreadystatechange",i),m[h]("onload",r)),f("mark",["firstbyte",a.getLastTimestamp()],null,"api");var R=0}},{}],"wrap-function":[function(t,e,n){function r(t,e){function n(e,n,r,c,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,c],s],t)}f(n+"start",[o,a,c],s,u);try{return p=e.apply(a,o)}catch(m){throw f(n+"err",[o,a,m],s,u),m}finally{f(n+"end",[o,a,p],s,u)}}return a(e)?e:(n||(n=""),nrWrapper[p]=e,o(e,nrWrapper,t),nrWrapper)}function r(t,e,r,i,o){r||(r="");var f,c,u,s="-"===r.charAt(0);for(u=0;u<e.length;u++)c=e[u],f=t[c],a(f)||(t[c]=n(f,s?c+r:r,i,c,o))}function f(n,r,o,a){if(!m||e){var f=m;m=!0;try{t.emit(n,r,o,e,a)}catch(c){i([c,n,r,o],t)}m=f}}return t||(t=s),n.inPlace=r,n.flag=p,n}function i(t,e){e||(e=s);try{e.emit("internal-error",t)}catch(n){}}function o(t,e,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(t);return r.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(o){i([o],n)}for(var a in t)l.call(t,a)&&(e[a]=t[a]);return e}function a(t){return!(t&&t instanceof Function&&t.apply&&!t[p])}function f(t,e){var n=e(t);return n[p]=t,o(t,n,s),n}function c(t,e,n){var r=t[e];t[e]=f(r,n)}function u(){for(var t=arguments.length,e=new Array(t),n=0;n<t;++n)e[n]=arguments[n];return e}var s=t("ee"),d=t(9),p="nr@original",l=Object.prototype.hasOwnProperty,m=!1;e.exports=r,e.exports.wrapFunction=f,e.exports.wrapInPlace=c,e.exports.argsToArray=u},{}]},{},["loader"]);</script>
<meta name="application-name" content="OpenClassrooms" />
<meta name="msapplication-TileColor" content="#7451eb" />
<meta name="msapplication-TileImage" content="/fav-icon.png?v=3" />
<meta name="theme-color" content="#7451eb">
<meta property="og:locale" content="fr" />
<link rel="icon" sizes="144x144" href="https://openclassrooms.com/fav-icon.png?v=3">
<link rel="apple-touch-icon" href="https://openclassrooms.com/apple-touch-icon.png?v=3" />
<link rel="apple-touch-icon" href="https://openclassrooms.com/apple-touch-icon-iphone.png?v=3" />
<link rel="apple-touch-icon" sizes="72x72" href="https://openclassrooms.com/apple-touch-icon-ipad.png?v=3" />
<link rel="apple-touch-icon" sizes="114x114" href="https://openclassrooms.com/apple-touch-icon-iphone-retina-display.png?v=3" />
<link rel="apple-touch-icon" sizes="144x144" href="https://openclassrooms.com/apple-touch-icon-ipad-retina-display.png?v=3" />
<link rel="apple-touch-icon-precomposed" href="https://openclassrooms.com/apple-touch-icon-precomposed.png?v=3" />
<link rel="shortcut icon" href="https://openclassrooms.com/favicon.ico?83212fe7" />
<style>.async-hide { opacity: 0 !important} </style>
<script>
          window.dataLayer = window.dataLayer || [];

          (function(a,s,y,n,c,h,i,d,e){
            var isEnabled = [
              /\/paths/,
              /\/apprenticeship/,
              /\/employer/,
            ].reduce(function (acc, pathReg) {
                var matchUrl = !!document.location.pathname.match(pathReg);
                return acc || matchUrl;
            }, false);

            if (!isEnabled) {
              return;
            }

            s.className+=' '+y;
            h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
            (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);
          })(window,document.documentElement,'async-hide','dataLayer',2000,{'GTM-5WM9PV':true});
        </script>
<link href="https://openclassrooms.com/bundles/common/css/master-8bf9878d.css" type="text/css" rel="stylesheet" media="all" />
<link href="https://openclassrooms.com/bundles/course/css/main-29e81ced.css" type="text/css" rel="stylesheet" media="all" />
<link href="https://vjs.zencdn.net/6.2.5/video-js.css" rel="stylesheet">
<script>
    /*! modernizr 3.3.1 (Custom Build) | MIT *
    * https://modernizr.com/download/?-cssfilters-touchevents-setclasses !*/
    !function(e,n,t){function o(e,n){return typeof e===n}function r(){var e,n,t,r,s,i,a;for(var l in C)if(C.hasOwnProperty(l)){if(e=[],n=C[l],n.name&&(e.push(n.name.toLowerCase()),n.options&&n.options.aliases&&n.options.aliases.length))for(t=0;t<n.options.aliases.length;t++)e.push(n.options.aliases[t].toLowerCase());for(r=o(n.fn,"function")?n.fn():n.fn,s=0;s<e.length;s++)i=e[s],a=i.split("."),1===a.length?Modernizr[a[0]]=r:(!Modernizr[a[0]]||Modernizr[a[0]]instanceof Boolean||(Modernizr[a[0]]=new Boolean(Modernizr[a[0]])),Modernizr[a[0]][a[1]]=r),g.push((r?"":"no-")+a.join("-"))}}function s(e){var n=w.className,t=Modernizr._config.classPrefix||"";if(x&&(n=n.baseVal),Modernizr._config.enableJSClass){var o=new RegExp("(^|\\s)"+t+"no-js(\\s|$)");n=n.replace(o,"$1"+t+"js$2")}Modernizr._config.enableClasses&&(n+=" "+t+e.join(" "+t),x?w.className.baseVal=n:w.className=n)}function i(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):x?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function a(){var e=n.body;return e||(e=i(x?"svg":"body"),e.fake=!0),e}function l(e,t,o,r){var s,l,u,f,p="modernizr",c=i("div"),d=a();if(parseInt(o,10))for(;o--;)u=i("div"),u.id=r?r[o]:p+(o+1),c.appendChild(u);return s=i("style"),s.type="text/css",s.id="s"+p,(d.fake?d:c).appendChild(s),d.appendChild(c),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(n.createTextNode(e)),c.id=p,d.fake&&(d.style.background="",d.style.overflow="hidden",f=w.style.overflow,w.style.overflow="hidden",w.appendChild(d)),l=t(c,e),d.fake?(d.parentNode.removeChild(d),w.style.overflow=f,w.offsetHeight):c.parentNode.removeChild(c),!!l}function u(e,n){return!!~(""+e).indexOf(n)}function f(e){return e.replace(/([a-z])-([a-z])/g,function(e,n,t){return n+t.toUpperCase()}).replace(/^-/,"")}function p(e,n){return function(){return e.apply(n,arguments)}}function c(e,n,t){var r;for(var s in e)if(e[s]in n)return t===!1?e[s]:(r=n[e[s]],o(r,"function")?p(r,t||n):r);return!1}function d(e){return e.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(n,o){var r=n.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(d(n[r]),o))return!0;return!1}if("CSSSupportsRule"in e){for(var s=[];r--;)s.push("("+d(n[r])+":"+o+")");return s=s.join(" or "),l("@supports ("+s+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return t}function h(e,n,r,s){function a(){p&&(delete k.style,delete k.modElem)}if(s=o(s,"undefined")?!1:s,!o(r,"undefined")){var l=m(e,r);if(!o(l,"undefined"))return l}for(var p,c,d,h,v,y=["modernizr","tspan","samp"];!k.style&&y.length;)p=!0,k.modElem=i(y.shift()),k.style=k.modElem.style;for(d=e.length,c=0;d>c;c++)if(h=e[c],v=k.style[h],u(h,"-")&&(h=f(h)),k.style[h]!==t){if(s||o(r,"undefined"))return a(),"pfx"==n?h:!0;try{k.style[h]=r}catch(g){}if(k.style[h]!=v)return a(),"pfx"==n?h:!0}return a(),!1}function v(e,n,t,r,s){var i=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+j.join(i+" ")+i).split(" ");return o(n,"string")||o(n,"undefined")?h(a,n,r,s):(a=(e+" "+E.join(i+" ")+i).split(" "),c(a,n,t))}function y(e,n,o){return v(e,t,t,n,o)}var g=[],C=[],S={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,n){var t=this;setTimeout(function(){n(t[e])},0)},addTest:function(e,n,t){C.push({name:e,fn:n,options:t})},addAsyncTest:function(e){C.push({name:null,fn:e})}},Modernizr=function(){};Modernizr.prototype=S,Modernizr=new Modernizr;var w=n.documentElement,x="svg"===w.nodeName.toLowerCase(),_=S._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];S._prefixes=_;var b="CSS"in e&&"supports"in e.CSS,T="supportsCSS"in e;Modernizr.addTest("supports",b||T);var z=S.testStyles=l;Modernizr.addTest("touchevents",function(){var t;if("ontouchstart"in e||e.DocumentTouch&&n instanceof DocumentTouch)t=!0;else{var o=["@media (",_.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");z(o,function(e){t=9===e.offsetTop})}return t});var P="Moz O ms Webkit",j=S._config.usePrefixes?P.split(" "):[];S._cssomPrefixes=j;var E=S._config.usePrefixes?P.toLowerCase().split(" "):[];S._domPrefixes=E;var N={elem:i("modernizr")};Modernizr._q.push(function(){delete N.elem});var k={style:N.elem.style};Modernizr._q.unshift(function(){delete k.style}),S.testAllProps=v,S.testAllProps=y,Modernizr.addTest("cssfilters",function(){if(Modernizr.supports)return y("filter","blur(2px)");var e=i("a");return e.style.cssText=_.join("filter:blur(2px); "),!!e.style.length&&(n.documentMode===t||n.documentMode>9)}),r(),s(g),delete S.addTest,delete S.addAsyncTest;for(var A=0;A<Modernizr._q.length;A++)Modernizr._q[A]();e.Modernizr=Modernizr}(window,document);
    </script>
<script type="text/javascript">
    var App = {
        startTime: (new Date()).getTime(),
        pageGenerationDate: 1631057869000
    };

    App.user = {
                    locale: 'fr',
            language: 'fr',
            country: 'FR',
            isPremium: false,
            isMentor: false,
            anonymous: true
            };

    App.preferences = {
        debug: false,
        assetVersion: '83212fe7',
        contactPhone: '\u002B33\u00201\u002080\u002088\u002080\u002030',
        phoneNumbersByCountry: {"uk":{"contact":"+44 16 1768 1880"},"ca":{"contact":"+1 929-376-0101"},"us":{"contact":"+1 929-376-0101"},"fr":{"contact":"+33 1 80 88 80 30","b2b_contact":"+33 1 80 88 80 40"},"es":{"contact":"+33 1 80 88 80 30"}},
        adyenPublicKey: '10001\u007C889EBFD4D434B82683E21DCA26E77C3E20E0EE09A5ECE3830B0ED51F2FA721A2F7E9EC871C6AB9A1E12C4492F4717673047757E02C5256D8E265CD51E413E5EFCCFEAC41B39C662A424ADC13EE187C38C372A7FCCEC1EA5DF841989437D78B252A8EB51008E60BB55B1E55A7A80DE1A9D60D998C128A576BFAE1DDB97D514AF0A073AEDDE84CEE40D1F8F6ECE85D0FFA50C95C06DB274021C1371376C6EB16561FD65C5E2704B570A7504D617D0F3820F176A0609F6162BDF5890533289FDC3DA7DB03B50BB3BD60A613E1FF72060F22987627E8F1A29F0128A94EC4C8FF7CF6B7AB9558D8433BF86D7A388AB927641CD6C02689139CEE3AAC9ACBFFE83806CB',
        application: {
            form: {
              funnelUrl: 'https\u003A\/\/www.tfaforms.com\/responses\/processor',
              fields: {"firstname":"tfa_6","lastname":"tfa_4","email":"tfa_2","path_id":"tfa_138","source_name":"tfa_165","record_type_id":"tfa_217","utm_medium":"tfa_203","utm_source":"tfa_201","utm_term":"tfa_207","utm_campaign":"tfa_205","gclid":"tfa_209","fbclid":"tfa_211","consent":"tfa_150","user_locale":"tfa_125","userId":"tfa_3","gender":"tfa_10","user_study_motivation":"tfa_171","diploma_level":"tfa_30","user_diploma":"tfa_173","language_proficiency_fr":"tfa_40","language_proficiency_en":"tfa_42","ha_addressline_1":"tfa_16","ha_city":"tfa_18","ha_zip_code":"tfa_24","ha_state":"tfa_163","ha_country":"tfa_22","professional_status":"tfa_94","public_employment_agency_id":"tfa_159","user_public_employment_agency_certificate":"tfa_167","user_pe_advisor_email":"tfa_199","disabled_worker":"tfa_67","veteran":"tfa_73","athlete":"tfa_79","refugee":"tfa_85","rsa":"tfa_91","are":"tfa_175","api":"tfa_177","cui":"tfa_179","aah":"tfa_222","other_allocs":"tfa_223","can_work_in_france":"tfa_142","user_resume":"tfa_1","online_cv":"tfa_157","user_has_mobility":"tfa_193","user_mobility_departamental":"tfa_187","user_mobility_national":"tfa_189","user_mobility_regional":"tfa_191","user_mobility_cities":"tfa_195","work_location_1":"tfa_128","work_location_2":"tfa_130","work_location_3":"tfa_132","work_location_4":"tfa_134","work_location_5":"tfa_136","career_motivation":"tfa_123","has_computer":"tfa_43","has_mic":"tfa_49","has_webcam":"tfa_169","has_fast_internet_connection":"tfa_55","has_quiet_space":"tfa_61","has_online_courses_xp":"tfa_118","has_online_courses_xp_text":"tfa_121","found_a_company":"tfa_146","date_of_birth":"tfa_9","phone_number":"tfa_126","user_desired_start_date":"tfa_161","video_link":"tfa_213","tfa_dbFormId":"tfa_dbFormId","tfa_dbControl":"tfa_dbControl","experiment_id":"tfa_219","full_time_available":"tfa_220","with_prerequisite":"tfa_221"}
            },
        },
        routes: {
            COURSE_EVENT: '/components/courses/:courseId',
            COURSE_PART_EVENT: '/components/courses/:courseId/parts/:partId',

            ACCEPT_COOKIE: '\/ajax\/components\/user\u002Daccept\u002Dconsent\u002Dcookie'
        },

                    };

    App.preferences.navigationPreference = {
            };

    App.preferences.modules = {
        'smiley': {
            basePath: '/bundles/common/images/smiley/'
        }
    };

    App.notifications = {};
    App.scripts = [];

    if (App.user.id) {
        (function(){
            var userData = { userId: App.user.id };

            if (App.user.premiumType) {
                userData.status = (App.user.premiumType === 'Premium Solo') ? 'premium solo student' : 'path student';
            } else {
                userData.status = 'free student';
            }

            if (App.user.isMentor) {
                userData.status = App.user.premiumType ? (userData.status + '|mentor') : 'mentor';
            }

            if (!window.dataLayer) {
              return;
            }
            window.dataLayer.push(userData);
        })();
    }
</script>
<script>    
    App.preferences.modules['course/view/internalFolding'] = {
        isBigCourse: true
    };

    App.data = App.data || {};
App.data.currentCourse = {"partId":5791236,"partTitle":"Cr\u00e9ez un faux objet pour simuler des comportements","partSlug":"creez-un-faux-objet-pour-simuler-des-comportements","courseId":5641591,"courseTitle":"Testez votre application C#","courseSlug":"testez-votre-application-c","courseLanguage":"fr","isIntroduction":false,"isCertifying":true};
App.preferences.modules['view/currentCoursePage'] = App.data.currentCourse;

</script>
<meta property="og:type" content="website" />
<meta property="og:title" content="Créez un faux objet pour simuler des comportements" />
<meta property="og:url" content="https://openclassrooms.com/fr/courses/5641591-testez-votre-application-c/5791236-creez-un-faux-objet-pour-simuler-des-comportements" />
<meta property="og:site_name" content="OpenClassrooms" />
<meta property="og:image" content="https://course.oc-static.com/courses/5641591/5641591_teaser_picture_1614872047.jpg" />
<meta property="og:description" content="S&#039;assurer que son application fonctionne est crucial dans le cycle de vie d&#039;un logiciel. Quels types de tests utiliser et à quels moments ? 
Venez découvrir les principes des tests automatisés et comment empêcher l&#039;apparition de régressions lors de vos développements." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@OCFrance" />
<meta name="twitter:title" content="Créez un faux objet pour simuler des comportements" />
<meta name="twitter:image" content="https://course.oc-static.com/courses/5641591/5641591_teaser_picture_1614872047.jpg" />
<meta name="twitter:description" content="S&#039;assurer que son application fonctionne est crucial dans le cycle de vie d&#039;un logiciel. Quels types de tests utiliser et à quels moments ? 
Venez découvrir les principes des tests automatisés et comment empêcher l&#039;apparition de régressions lors de vos développements." />
<link rel="canonical" href="5791236-creez-un-faux-objet-pour-simuler-des-comportements.html" />
</head>
<body class="course oc-body   breadcrumbFluid breadcrumbOnContrasted">
<ul class="skipLink">
<li>
<a class="skipLink__item" href="#mainContent">Aller au contenu</a>
</li>
<li>
<a class="skipLink__item" href="#footerChangeLanguage">Choisir la langue</a>
</li>
<li id="skipLink_search">
<a class="skipLink__item" href="#algolia-search-input">Aller à la recherche</a>
</li>
</ul>
<script id="_EVENTS-IDENTIFY" type="application/json">
        </script>
<script id="_EVENTS-PAGE" type="application/json">
        {"type":"page","integrations":{"Blueshift":false,"HubSpot":false},"properties":{"pageCategory":"courses","courseTitle":"Testez votre application C#"}}
    </script>
<script id="fundingMechanisms" type="application/json">
    {
        "fundingMechanisms": [{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":24,"name":"Action de Formation Pr\u00e9alable au Recrutement","shortName":"AFPR","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":25,"name":"Aide collective priv\u00e9e \u00e0 la formation","shortName":"Aide priv\u00e9e","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":20,"name":"Aide Individuelle \u00e0 la Formation","shortName":"AIF","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":28,"name":"Aide individuelle priv\u00e9e \u00e0 la formation","shortName":"Aide priv\u00e9e","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":21,"name":"Compte Personnel de Formation","shortName":"CPF","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":15,"name":"Contrat d'apprentissage","shortName":"Apprentissage","type":"apprenticeship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":16,"name":"Contrat de professionnalisation","shortName":"Contrat pro","type":"apprenticeship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":19,"name":"P\u00e9riode de professionnalisation","shortName":"P\u00e9riode pro","type":"apprenticeship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":23,"name":"Pr\u00e9paration Op\u00e9rationnelle \u00e0 l'Emploi Collective","shortName":"POEC","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":17,"name":"Pr\u00e9paration Op\u00e9rationnelle \u00e0 l'Emploi Individuelle","shortName":"POEI","type":"apprenticeship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":22,"name":"Programme R\u00e9gional de Formation pour l'Emploi","shortName":"PRFE","type":"scholarship"},{"country":"FR","eligibleCountries":["FR","RE","GP","MQ","PF","GF","YT","NC","BL","PM","WF"],"id":18,"name":"Reconversion ou promotion par l'alternance","shortName":"Pro-A","type":"apprenticeship"}]
    }
</script>
<div id="oc-header">
<div class="oc-mainHeader oc-mainHeader--notLogged oc-mainHeader--skeleton">
<div class="grid-wrapper">
<div class="grid-inner">
<div style="display: flex;">
<div class="oc-mainHeaderLogo oc-mainHeaderLogo--skeleton">
<a href="https://openclassrooms.com/fr/" class="oc-mainHeaderLogo__link">
<svg fill="none" height="51" width="668" viewBox="0 0 668 51" xmlns="http://www.w3.org/2000/svg">
<title>OpenClassrooms.com</title>
<path d="M406.011 35.018c0 2.82-.71 5.641-2.368 7.991-1.659 2.35-3.79 4.23-6.87 5.64-3.079 1.41-6.869 2.116-11.37 2.116-3.79 0-7.343-.47-10.897-1.41-3.553-.94-6.395-2.35-8.527-3.996l7.106-8.46c1.421.705 2.843 1.175 4.501 1.88 2.842.94 5.448 1.41 8.054 1.41 4.974 0 7.58-1.41 7.58-3.995 0-1.41-.711-2.35-2.132-3.056-1.421-.705-3.79-1.41-6.87-2.115-3.553-.705-6.395-1.645-8.764-2.585s-4.264-2.35-6.159-4.23c-1.658-1.88-2.606-4.701-2.606-7.991 0-3.056.711-5.641 2.369-7.991 1.658-2.35 3.79-4.23 6.87-5.64 3.079-1.41 6.869-2.116 11.37-2.116 3.079 0 6.159.47 9.001 1.175 3.08.705 5.685 1.88 7.817 3.055l-7.343 8.696c-3.316-1.41-6.633-2.115-9.712-2.115-2.606 0-4.501.47-5.685 1.175-1.185.705-1.895 1.88-1.895 3.056 0 1.41.711 2.35 2.132 2.82 1.421.705 3.79 1.41 6.869 2.115a49.4 49.4 0 0 1 8.765 2.585c2.369.94 4.264 2.35 6.159 4.23 1.658 1.646 2.605 4.466 2.605 7.756zm261.989 0c0 2.82-.711 5.641-2.369 7.991s-3.79 4.23-6.869 5.64c-3.08 1.41-6.87 2.116-11.371 2.116-3.79 0-7.343-.47-10.896-1.41s-6.396-2.35-8.528-3.996l7.107-8.46c1.421.705 2.842 1.175 4.501 1.88 2.842.94 5.448 1.41 8.053 1.41 4.975 0 7.581-1.41 7.581-3.995 0-1.41-.711-2.35-2.132-3.056-1.422-.705-3.791-1.41-6.87-2.115a49.361 49.361 0 0 1-8.764-2.585c-2.369-.94-4.264-2.35-6.159-4.23-1.658-1.88-2.606-4.701-2.606-7.991 0-3.056.711-5.641 2.369-7.991 1.658-2.35 3.79-4.23 6.869-5.64 3.08-1.41 6.87-2.116 11.371-2.116 3.079 0 6.158.47 9.001 1.175 3.079.705 5.685 1.88 7.817 3.055l-7.343 8.696c-3.317-1.41-6.633-2.115-9.712-2.115-2.606 0-4.501.47-5.685 1.175-1.185.705-1.896 1.88-1.896 3.056 0 1.41.711 2.35 2.132 2.82 1.422.705 3.791 1.41 6.87 2.115a49.361 49.361 0 0 1 8.764 2.585c2.369.94 4.264 2.35 6.159 4.23 1.895 1.646 2.606 4.466 2.606 7.756zM87.882 19.037c0 3.76-.947 6.816-2.605 9.4-1.659 2.586-4.027 4.701-7.107 6.111s-6.87 2.116-10.896 2.116H59.22v12.69H45.955V.706h21.319c4.264 0 7.817.705 10.896 2.115 3.08 1.41 5.448 3.526 7.107 6.346 1.895 3.055 2.605 6.346 2.605 9.87zm-13.265 0c0-2.35-.71-3.995-2.132-5.17s-3.316-1.88-6.159-1.88h-7.343v14.336h7.343c2.606 0 4.738-.706 6.16-1.88s2.131-3.056 2.131-5.406zm55.904 20.212v10.576h-37.19V1.175h36.242v10.576h-23.214v8.226h18.476v10.341h-18.476v8.93zm50.218-38.074v48.65h-10.896l-20.609-25.853v25.853h-13.028V1.175h10.896l20.609 25.853V1.175zm84.092 37.604v10.81h-32.926V.94h13.265v37.604h19.661zm56.851 11.046h-13.739l-3.553-9.401h-19.661l-3.553 9.4h-13.502l20.608-48.649h13.029zM300.6 30.083l-5.922-15.512-5.922 15.512zm62.536 4.935c0 2.82-.71 5.641-2.369 7.991-1.658 2.35-3.79 4.23-6.869 5.64-3.08 1.41-6.87 2.116-11.37 2.116-3.79 0-7.344-.47-10.897-1.41s-6.396-2.35-8.527-3.996l7.106-8.46c1.421.705 2.842 1.175 4.501 1.88 2.842.94 5.448 1.41 8.054 1.41 4.974 0 7.58-1.41 7.58-3.995 0-1.41-.711-2.35-2.132-3.056-1.421-.705-3.79-1.41-6.87-2.115-3.553-.705-6.395-1.645-8.764-2.585s-4.264-2.35-6.159-4.23c-1.658-1.88-2.606-4.701-2.606-7.991 0-3.056.711-5.641 2.369-7.991 1.658-2.35 3.79-4.23 6.87-5.64 3.079-1.41 6.869-2.116 11.37-2.116 3.079 0 6.159.47 9.001 1.175 3.08.705 5.448 1.88 7.817 3.055l-7.343 8.696c-3.316-1.41-6.633-2.115-9.712-2.115-2.606 0-4.501.47-5.685 1.175-1.185.705-1.895 1.88-1.895 3.056 0 1.41.71 2.35 2.132 2.82 1.421.705 3.79 1.41 6.869 2.115a49.4 49.4 0 0 1 8.765 2.585c2.368.94 4.263 2.35 6.158 4.23 1.659 1.646 2.606 4.466 2.606 7.756zm-322.63-9.636c0 13.867-11.37 25.383-25.583 25.383-5.685 0-10.66-1.88-14.923-4.936l8.528-10.105c1.895 1.175 4.027 1.88 6.395 1.88 6.633 0 12.081-5.406 12.081-11.986 0-6.581-5.448-11.987-12.08-11.987-2.37 0-4.501.705-6.396 1.88L0 5.407C4.264 2.35 9.475.47 14.923.47 29.136.235 40.506 11.516 40.506 25.383zm177.66 10.341l8.528 10.107c-4.264 3.055-9.476 4.935-14.924 4.935-13.976 0-25.583-11.281-25.583-25.383C186.187 11.517 197.557 0 211.77 0c5.685 0 10.66 1.88 14.924 4.936l-8.528 10.105c-1.895-1.175-4.027-1.88-6.396-1.88-6.632 0-12.081 5.406-12.081 11.986 0 6.581 5.449 11.987 12.081 11.987 2.369.47 4.501-.235 6.396-1.41zm236.169 14.102l-10.423-15.042c3.079-1.41 5.211-3.525 6.87-6.11 1.658-2.585 2.605-5.876 2.605-9.401 0-3.76-.947-6.816-2.605-9.636-1.659-2.82-4.027-4.7-7.107-6.346-3.079-1.41-6.869-2.115-10.896-2.115H411.46v48.65h13.028V37.134h6.159l8.764 12.69zm-29.847-37.839h7.58c2.606 0 4.738.705 6.159 1.88s2.132 3.056 2.132 5.17c0 2.351-.711 3.996-2.132 5.171s-3.316 1.88-6.159 1.88h-7.58zM483.945.235c13.976 0 25.583 11.281 25.583 25.382S498.157 51 483.945 51c-13.976 0-25.583-11.281-25.583-25.383S469.732.235 483.945.235zm-13.029 25.147c0 7.051 5.685 12.692 12.792 12.692 7.106 0 12.791-5.64 12.791-12.692s-5.685-12.69-12.791-12.69c-6.87 0-12.792 5.64-12.792 12.69zM538.901.235c13.976 0 25.583 11.281 25.583 25.382S553.114 51 538.901 51c-13.976 0-25.583-11.281-25.583-25.383S524.925.235 538.901.235zm-12.792 25.147c0 7.051 5.685 12.692 12.792 12.692 7.106 0 12.791-5.64 12.791-12.692s-5.685-12.69-12.791-12.69c-7.107 0-12.792 5.64-12.792 12.69zm70.353 6.816L580.828 1.175h-10.896v48.65h11.607V28.438l11.607 21.387h6.87l11.607-21.387v21.387h11.607V1.175h-10.897z" />
</svg>
</a>
</div>
<nav class="oc-mainHeader__navWrapper" role="navigation" aria-label="Menu principal">
<div class="oc-mainHeader__linksWrapper">
<div class="oc-mainHeader__navLinkWrapper"><a class="oc-mainHeader__navLink" data-event="click|Header|Trainings" href="https://openclassrooms.com/fr/paths">Formations</a></div>
<div class="oc-mainHeader__navLinkWrapper"><a class="oc-mainHeader__navLink" data-event="click|Header|Apprenticeship" href="https://openclassrooms.com/fr/apprenticeship">Alternance</a></div>
<div class="oc-mainHeader__navLinkWrapper"><a class="oc-mainHeader__navLink" data-event="click|Header|Funding" href="https://openclassrooms.com/fr/funding">Financements</a></div>
<div class="oc-mainHeader__navLinkWrapper--separator"></div>
<div class="oc-mainHeader__navLinkWrapper"><a class="oc-mainHeader__navLink" data-event="click|Header|Business" href="https://openclassrooms.com/fr/business">Pour les entreprises</a></div>
</div>
</nav>
</div>
</div>
</div>
</div>
</div>
<div id="disclaimers-container" style="display:none;">
<!--[if lt IE 10]>
        <div class="alertMessage">
        <span class="bullet bullet--small bullet--orange alertMessage__icon"> <i class="icon-exclamation"></i></span>
        <p class="alertMessage__text">
            Vous utilisez un navigateur obsolète, veuillez le <a href="https://browser-update.org/update.html">mettre à jour</a>.
        </p>
    </div>
    <![endif]-->

<div id="modern-ie-disclaimer" style="display:none">
<div class="alertMessage">
<span class="bullet bullet--small bullet--orange alertMessage__icon"> <i class="icon-exclamation"></i></span>
<p class="alertMessage__text">
Vous utilisez un navigateur obsolète, veuillez le <a href="https://browser-update.org/update.html">mettre à jour</a>.
</p>
</div>
</div>
<script id="webapp-ie-disclaimer" type="application/json">{"message":"Vous utilisez un navigateur obsol\u00e8te, veuillez le <a href=\"https:\/\/browser-update.org\/update.html\">mettre \u00e0 jour<\/a>."}</script>
<script>
      var isModernIE =  document.documentMode === 10 || document.documentMode === 11;
      var isEdgeLegacy = navigator.userAgent.indexOf('Edge') > -1; // Luckily for us, Edge Chromium uses string "Edg" without final "e"

      if (isModernIE || isEdgeLegacy) {
        document.getElementById('modern-ie-disclaimer').style.display = 'block';
        document.getElementById('webapp-ie-disclaimer').setAttribute('data-role', 'disclaimer-message-data');
      }
    </script>
<noscript>
        <div class="alertMessage">
            <span class="bullet bullet--small bullet--orange alertMessage__icon"> <i class="icon-exclamation"></i></span>
            <p class="alertMessage__text">
                Veuillez utiliser un <a href="https://browser-update.org/update.html">navigateur internet moderne</a> avec JavaScript activé pour naviguer sur OpenClassrooms.com
            </p>
        </div>
    </noscript>
</div>
<div id="mainContentWithHeader">
<section class="breadcrumb  inset no-padding">
<div class="grid-wrapper">
<div class="grid-inner">
<nav class="breadcrumb__wrapper" role="navigation" aria-label="Fil d&#039;Ariane">
<ul class="breadcrumb__trail">
<li class="breadcrumb__item" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
<a class="breadcrumb__link" href="https://openclassrooms.com/fr/" itemprop="url">
<span itemprop="title">Accueil</span
                                    ></a>
<span class="breadcrumb__separator"> > </span>
</li>
<li class="breadcrumb__item" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
<a class="breadcrumb__link" href="https://openclassrooms.com/fr/courses" itemprop="url">
<span itemprop="title">Cours</span
                                    ></a>
<span class="breadcrumb__separator"> > </span>
</li>
<li class="breadcrumb__item" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
<a class="breadcrumb__link" href="../5641591-testez-votre-application-c6f1b.html?status=published" itemprop="url">
<span itemprop="title">Testez votre application C#</span
                                    ></a>
<span class="breadcrumb__separator"> > </span>
 </li>
<li class="breadcrumb__item" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
Créez un faux objet pour simuler des comportements
</li>
</ul>
</nav>
</div>
</div>
</section>
<div id="pre-main-part">
</div>
<main class="claire clearfix" role="main" id="mainContent">
<article itemscope itemtype="http://schema.org/Article" lang="fr">
<header id="course-header" class="courseHeader" xmlns="http://www.w3.org/1999/html">
<div class="grid-wrapper"><div class="grid-inner"><div class="grid-inner-content"><div class="courseHeader__topPart"><a itemprop="url" href="../5641591-testez-votre-application-c.html"><h1 class="oc-typography-h2 typoColorOnContrastedBg  courseHeader__title" data-course-title="Testez votre application C#">Testez votre application C#</h1></a></div></div></div></div><div class="grid-wrapper"><div class="grid-inner"><div class="grid-inner-content"><div class="courseHeader__bottomPart"><div class="courseHeader__details"><div class="courseHeader__detailsGroup"><ul class="courseHeader__detailsList"><li class="courseHeader__detailsItem"><img class="courseHeader__icon js-tooltip" src="https://openclassrooms.com/images/icons/schedule.svg?83212fe7" width="16" title="Ce cours demande en moyenne 12 heures de travail pour être réussi." /><span class="courseHeader__label">12 heures</span></li><li class="courseHeader__detailsItem"><i class="icon-level courseHeader__icon"></i><span class="courseHeader__label">Facile</span></li></ul></div><div class="courseHeader__detailsGroup courseHeader--license"><a class="courseHeader__license" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0"><span class="courseHeader__label">Licence</span><ul class="courseHeader__detailsList"><li class="iconBar__item"><i class="icon-cc iconBar__icon" title="CC"></i></li><li class="iconBar__item"><i class="icon-ccby iconBar__icon" title="BY"></i></li><li class="iconBar__item"><i class="icon-ccsa iconBar__icon" title="SA"></i></li></ul></a></div></div></div></div></div></div>
<div id="popin-formats-availables" class="popin popin--course-formats-availables">
<i class="popin__close-button icon-close js-close-button"></i>
<div class="course-types course-types--withSpace">
<a class="course-types__item" href="../5641591-testez-votre-application-c.html">
<i class="icon-desktop course-types__icon"></i>
</a>
<a class="course-types__item" href="https://openclassrooms.com/fr/courses?video=true">
<i class="icon-video course-types__icon"></i>
</a>
<a class="course-types__item" href="../5641591/certificate_example.pdf" target="_blank">
<i class="icon-badge course-types__icon js-close-button"></i>
</a>
</div>
<p>Ce cours est visible <a href="../5641591-testez-votre-application-c.html">gratuitement en ligne</a>.</p>
<p>course.header.alt.is_video</p>
<p>
course.header.alt.is_certifying
</p>
<a class="button button--primary js-close-button" href="#">J&#039;ai tout compris !</a>
</div>
</header>
<div class="grid-wrapper">
<div class="grid-inner">
<div class="grid-inner-content">
<p class="courseHeader__updatedTime">
Mis à jour le 16/12/2019 </p>
</div>
</div>
</div>
<div class="grid-wrapper">
<div class="grid-inner">
<div class="grid-inner-content">
<nav id="course-timeline" class="timeline">
<div class="timeline__inner">
<span class="timeline__iconContainer">
<a href="../5641591-testez-votre-application-c.html" title="Retour sur le sommaire du cours" class="roundIcon timeline__roundIcon">
<i class="icon-home roundIcon__icon"></i>
</a>
</span>
<div class="timeline__steps">
<span class="timeline__splitChapter"></span>
<a href="5641598-pourquoi-tester-son-application.html" class="timeline__step" title="Pourquoi tester son application ?">
<span class="timeline__stepName">
Pourquoi tester son application ?
</span>
</a>
<a href="5654966-identifiez-les-differents-types-de-tests.html" class="timeline__step" title="Identifiez les différents types de tests">
<span class="timeline__stepName">
Identifiez les différents types de tests
</span>
</a>
<a href="5656581-decouvrez-les-principes-du-test-driven-development-tdd.html" class="timeline__step" title="Découvrez les principes du Test-Driven Development (TDD)">
<span class="timeline__stepName">
Découvrez les principes du Test-Driven Development (TDD)
</span>
</a>
<a href="5656591-gerez-vos-dependances.html" class="timeline__step" title="Gérez vos dépendances">
<span class="timeline__stepName">
Gérez vos dépendances
</span>
</a>
<a href="5656601-comment-ecrire-un-test-qui-apporte-de-la-valeur.html" class="timeline__step" title="Comment écrire un test qui apporte de la valeur ?">
 <span class="timeline__stepName">
Comment écrire un test qui apporte de la valeur ?
</span>
</a>
<a href="exercises/3128.html" class="timeline__step" title="Quiz : Connaissez-vous les bases des tests ?">
<span class="timeline__stepName">
Quiz : Connaissez-vous les bases des tests ?
</span>
</a>
<span class="timeline__splitChapter"></span>
<a href="5696216-ecrivez-votre-premier-test-unitaire-naif.html" class="timeline__step" title="Écrivez votre premier test unitaire naïf">
<span class="timeline__stepName">
Écrivez votre premier test unitaire naïf
</span>
</a>
<a href="5791126-les-principes-dun-framework-de-test.html" class="timeline__step" title="Les principes d&#039;un framework de test">
<span class="timeline__stepName">
Les principes d&#039;un framework de test
</span>
</a>
<a href="5696226-utilisez-le-framework-de-test-mstest.html" class="timeline__step" title="Utilisez le framework de test MSTest">
<span class="timeline__stepName">
Utilisez le framework de test MSTest
</span>
</a>
<a href="5696236-decouvrez-les-assertions.html" class="timeline__step" title="Découvrez les assertions">
<span class="timeline__stepName">
Découvrez les assertions
</span>
</a>
<a href="5791236-creez-un-faux-objet-pour-simuler-des-comportements.html" class="timeline__step js-current-timeline-step" title="Créez un faux objet pour simuler des comportements">
<span class="timeline__stepName">
Créez un faux objet pour simuler des comportements
</span>
<span class="timeline__progressMarker"></span>
</a>
<a href="5696246-utilisez-le-framework-de-simulacre-moq.html" class="timeline__step" title="Utilisez le framework de simulacre Moq">
<span class="timeline__stepName">
Utilisez le framework de simulacre Moq
</span>
</a>
<a href="6777966-entrainez-vous-a-utiliser-les-tests-pour-detecter-un-probleme-dans-une-application.html" class="timeline__step" title="Entrainez-vous à utiliser les tests pour détecter un problème dans une application">
<span class="timeline__stepName">
Entrainez-vous à utiliser les tests pour détecter un problème dans une application
</span>
</a>
<a href="exercises/3129.html" class="timeline__step" title="Quiz : Prêt.e à utiliser des tests unitaires ?">
<span class="timeline__stepName">
Quiz : Prêt.e à utiliser des tests unitaires ?
</span>
</a>
<span class="timeline__splitChapter"></span>
<a href="5748021-mesurez-la-couverture-de-vos-tests.html" class="timeline__step" title="Mesurez la couverture de vos tests">
<span class="timeline__stepName">
Mesurez la couverture de vos tests
</span>
</a>
<a href="5748031-testez-l-acces-a-la-base-de-donnees.html" class="timeline__step" title="Testez l’accès à la base de données">
<span class="timeline__stepName">
Testez l’accès à la base de données
 </span>
</a>
<a href="5791376-les-solutions-au-probleme-de-la-base-de-donnees.html" class="timeline__step" title="Les solutions au problème de la base de données">
<span class="timeline__stepName">
Les solutions au problème de la base de données
</span>
</a>
<a href="5748041-testez-des-services-web.html" class="timeline__step" title="Testez des services web">
<span class="timeline__stepName">
Testez des services web
</span>
</a>
<a href="exercises/3177.html" class="timeline__step" title="Quiz : Prêt.e à utiliser des tests d&#039;intégration ?">
<span class="timeline__stepName">
Quiz : Prêt.e à utiliser des tests d&#039;intégration ?
</span>
</a>
<span class="timeline__splitChapter"></span>
</div>
<span class="timeline__iconContainer">
<a href="../5641591/certificate_example.pdf" title="Certificat de réussite (voir un exemple)" class="roundIcon timeline__roundIcon">
<i class="icon-trophy roundIcon__icon"></i>
</a>
</span>
</div>
</nav>
</div>
</div>
</div>
<div class="grid-wrapper">
<div class="grid-inner">
<div class="contentWithSidebar  spacer  js-contentWithSidebar  grid-inner-content">
<div class="contentWithSidebar__content">
<div id="js-courseRedirection" data-courseInfo-course_id="5641591"></div>
<div class="relative js-sidebar-container">
<div class="static">
<h2 itemprop="name" data-part-title="Créez un faux objet pour simuler des comportements" class="part-title">Créez un faux objet pour simuler des comportements</h2>
<section class="space-bottom js-desktop-sticky-container">
<div class="tooltipMessage tooltipMessage--noArrow">
<i class="tooltipMessage__icon  icon-lock"></i>
<a href="https://openclassrooms.com/fr/login">Connectez-vous</a> ou <a href="https://openclassrooms.com/fr/register">inscrivez-vous</a> gratuitement pour bénéficier de toutes les fonctionnalités de ce cours !
</div>
<div itemprop="articleBody" data-page-indentifier="/fr/courses/5641591-testez-votre-application-c/5791236-creez-un-faux-objet-pour-simuler-des-comportements" class="js-isRestrictablePage js-course-container js-smilize " data-video-blocked-wrapper="<a href='https://openclassrooms.com/fr/login#popin-log-in' class='js-popin-activator'>">

<div class="userContent js-userContent">
<video id="r-5867866" data-claire-element-id="28177041" src="https://vimeo.com/304557168"><a href="https://vimeo.com/304557168">https://vimeo.com/304557168</a></video><p id="r-5791241" data-claire-element-id="28143952"></p><p id="r-5854702" data-claire-element-id="28143953">Nous avons déjà parlé du principe d’un framework de simulacre dans la partie précédente. Un framework de simulacre fournit un moyen de tester une méthode, une classe, etc., en l’isolant du reste du système.</p><p id="r-5791242" data-claire-element-id="28115711">Nous avons cité le cas qui permettait de récupérer la météo du jour. Nous avons vu qu'il fallait bouchonner pour éviter d’avoir un test qui passe quand il fait beau et un test qui échoue quand il pleut.</p><p id="r-5791243" data-claire-element-id="28115712">L’aléatoire, c'est un super terrain de jeu pour les bouchons. Cela tombe bien, nous n’avons pas testé la classe qui pilote le jeu : la classe  <code data-claire-semantic="text">Ihm</code>  . Pour pouvoir la tester correctement et valider un scénario complet, il faut pouvoir maîtriser le lancer du dé.</p><p id="r-5791244" data-claire-element-id="27973044">Et là, ça se complique. Comment maîtriser l’aléatoire ?</p><h3 id="r-5791275" data-claire-element-id="28115768">Créez un faux objet</h3><p id="r-5791245" data-claire-element-id="28115713">Rien de plus simple, nous allons créer un faux dé, qui ne renvoie que ce qui nous arrange. On pourrait envisager d’avoir une liste prédéfinie de jets. Ainsi, nous pourrions connaître le résultat final et nous assurer que le scénario est correct.</p><p id="r-5791246" data-claire-element-id="27973046">Par exemple, créons un faux dé :</p><pre id="r-5791247" data-claire-element-id="27973047"><code data-claire-semantic="csharp">public class FauxDe
{
    private readonly int[] _listeDeJets;
    private int _compteur;

    public FauxDe()
    {
        _listeDeJets = new [] { 4, 5, 1, 1, 4, 3, 5, 6, 6, 6, 1, 2, 4, 2, 3, 2, 6, 4, 5, 1, 1, 4, 3, 5, 6, 6, 6, 1, 2, 4, 2, 3, 2, 6 };
        _compteur = 0;
    }

    public int Lance()
    {
        int tirage = _listeDeJets[_compteur];
        _compteur++;
        return tirage;
    }
}</code></pre><p id="r-5791248" data-claire-element-id="27973048">En utilisant un tableau avec des valeurs prédéfinies, nous avons désormais un système qui va nous permettre de prédire la suite des lancers.</p><aside id="r-5791250" data-claire-element-id="28115715" data-claire-semantic="warning"><p id="r-5791249" data-claire-element-id="28115714">Si on lance le dé un trop grand nombre de fois, l’indice  <code data-claire-semantic="text">_compteur</code>  sera en dehors des limites du tableau, mais ce n’est pas grave, car nous maîtrisons nos tests derrière.</p></aside><p id="r-5791251" data-claire-element-id="28115761">Il suffit de remplacer tous les endroits où nous utilisons la classe  <code data-claire-semantic="text">De</code>  par la classe  <code data-claire-semantic="text">FauxDe</code> , et notamment dans la classe  <code data-claire-semantic="text">Ihm</code>  :</p><pre id="r-5791252" data-claire-element-id="27973052"><code data-claire-semantic="csharp">public class Ihm
{
    public void Demarre()
    {
        FauxDe de = new FauxDe();
        var jeu = new Jeu();
        Console.WriteLine($&quot;A l'attaque : points/vie {jeu.Heros.Points}/{jeu.Heros.PointDeVies}&quot;);
        while (jeu.Heros.PointDeVies &gt; 0)
        {
            var resultat = jeu.Tour(de.Lance(), de.Lance());
            switch (resultat)
            {
                case Resultat.Gagne:
                    Console.Write($&quot;Monstre battu&quot;);
                    break;
                case Resultat.Perdu:
                    Console.Write($&quot;Combat perdu&quot;);
                    break;
            }
            Console.WriteLine($&quot;: points/vie {jeu.Heros.Points}/{jeu.Heros.PointDeVies}&quot;);
        }
    }
}</code></pre><p id="r-5791253" data-claire-element-id="27973053">Le remplacement s’est fait à la ligne 5.</p><p id="r-5791254" data-claire-element-id="27973054">Maintenant, il devient facile de tester cette classe. Ajoutons une nouvelle classe de tests dans notre projet de tests pour tester la classe  <code data-claire-semantic="text">Ihm</code>  :</p><pre id="r-5791255" data-claire-element-id="27973055"><code data-claire-semantic="csharp">[TestClass]
public class IhmTests
{
}</code></pre><aside id="r-5791257" data-claire-element-id="27973057" data-claire-semantic="warning"><p id="r-5791256" data-claire-element-id="27973056">Rappelez-vous la convention pour nommer une classe de tests.</p></aside><p id="r-5791258" data-claire-element-id="27973058">Voici notre méthode de test :</p><pre id="r-5791259" data-claire-element-id="27973059"><code data-claire-semantic="csharp">[TestClass]
public class IhmTests
{
    [TestMethod]
    public void Ihm_AvecUnJeuDeDonnees_LeJoueurGagne()
    {
        // arrange
        Ihm ihm = new Ihm();

        // act
        ihm.Demarre();

        // assert
    }
}</code></pre><p id="r-5791260" data-claire-element-id="28064687">Les tests passent. Mais...</p><div id="r-5791262" data-claire-element-id="28064689" data-claire-semantic="question"><p id="r-5791261" data-claire-element-id="28064688">On teste quoi, d’ailleurs ?</p></div><p id="r-5791263" data-claire-element-id="28115762">La méthode  <code data-claire-semantic="text">Demarre()</code>  est exécutée, mais, peu importe ce qu'il se passe derrière, finalement, le test passera toujours. S<em>auf si une exception est levée.</em></p><aside id="r-5791265" data-claire-element-id="28115764" data-claire-semantic="error"><p id="r-5791264" data-claire-element-id="28115763">C’est donc un mauvais test car il nous renvoie un faux positif ! Il donne une fausse impression de sécurité.</p></aside><p id="r-5791266" data-claire-element-id="28064693">Il se trouve que l’on ne peut rien tester ici, car ce que l’on veut tester, c’est le résultat de ce qui s’affiche. Nous avons besoin d’un test d’interface, et pas d’un test unitaire.</p><div id="r-5791268" data-claire-element-id="28064922" data-claire-semantic="question"><p id="r-5791267" data-claire-element-id="28064921">Quoique… Nous pourrions peut-être envisager de modifier la classe  <code data-claire-semantic="text">Ihm</code>  afin d’exposer la variable de jeu et de voir les informations du héros ? Qu’en pensez-vous ?</p></div><p id="r-5791269" data-claire-element-id="28115765"><strong>STOP ! </strong>Retirez tout de suite cette idée de votre tête, car c’est une mauvaise idée. Nous ne devons pas modifier notre code et introduire des éléments qui ne servent qu’à des fins de test. En faisant cela, nous ajoutons de la complexité et du code alors que cela ne servirait à rien dans notre code de production. C’est une mauvaise pratique à bannir.</p><p id="r-5791270" data-claire-element-id="28115766">D’ailleurs, nous avons déjà modifié le code de production en remplaçant le  <code data-claire-semantic="text">De</code>  par un  <code data-claire-semantic="text">FauxDe</code> . Encore une mauvaise idée, notre programme est désormais faussé et ne fonctionne plus que pour les tests.</p><div id="r-5791272" data-claire-element-id="28064733" data-claire-semantic="question"><p id="r-5791271" data-claire-element-id="28064732">Pourquoi nous retrouvons-nous dans cette situation ?</p></div><p id="r-5791273" data-claire-element-id="28115767">Parce nous avons mal écrit notre code, sans respecter les bonnes pratiques de testabilité.</p><p id="r-5791274" data-claire-element-id="28064734">À noter que si nous avions suivi la pratique TDD, alors nous n’aurions sans doute pas eu ce problème, car le code aurait été écrit, par définition, pour être testable.</p><h3 id="r-5791292" data-claire-element-id="28176003">Remaniez le code</h3><p id="r-5791276" data-claire-element-id="27973076">Mais ne vous inquiétez pas, tout n’est pas perdu. Nous allons remanier un petit peu notre code pour pouvoir le rendre testable et bénéficier de tout l’intérêt d’avoir un langage de programmation orienté objet : le <strong>polymorphisme</strong>.</p><p id="r-5791277" data-claire-element-id="28064751">Pour ce faire, nous allons utiliser le <a href="https://fr.wikipedia.org/wiki/Inversion_des_dépendances">principe d’inversion de dépendance</a> en introduisant une abstraction entre des classes qui sont fortement couplées.</p><aside id="r-5843737" data-claire-element-id="28115882" data-claire-semantic="information"><p id="r-5843736" data-claire-element-id="28115881">Détailler le principe d’inversion de dépendance dans ce cours serait un peu trop long mais je vous encourage à lire des articles sur le sujet pour vous familiariser avec cette notion.</p></aside><p id="r-5791278" data-claire-element-id="28115883">En l’occurrence, nous avons une forte dépendance entre la classe  <code data-claire-semantic="text">Ihm</code>  et la classe  <code data-claire-semantic="text">De</code> . De même, pour notre problématique de tests, on se rend compte que la liaison est trop forte entre la classe  <code data-claire-semantic="text">Ihm</code>  et la méthode <code data-claire-semantic="text">Console.WriteLine</code>  qui écrit sur la console.</p><p id="r-5791281" data-claire-element-id="27973081">Et en pratique ? Nous allons faire deux choses :</p><ol id="r-5791286" data-claire-element-id="28064756"><li id="r-5791283" data-claire-element-id="28064755"><p id="r-5791282" data-claire-element-id="28064754">Premièrement, nous allons extraire l’écriture sur la console dans une nouvelle classe et introduire une abstraction.</p></li><li id="r-5791285" data-claire-element-id="27973085"><p id="r-5791284" data-claire-element-id="27973084">Deuxièmement, nous allons à nouveau introduire une abstraction pour notre classe de dé.</p></li></ol><p id="r-5791287" data-claire-element-id="27973087">Et quelle abstraction choisir ? Une interface fera parfaitement l’affaire.</p><p id="r-5791288" data-claire-element-id="28115884">C’est parti ! Voici une classe permettant d’écrire dans la console accompagnée de son interface :</p><pre id="r-5791289" data-claire-element-id="27973089"><code data-claire-semantic="csharp">public interface IConsole
{
    void Ecrire(string message);
    void EcrireLigne(string message);
}

public class ConsoleDeSortie : IConsole
{
    public void Ecrire(string message)
    {
        Console.Write(message);
    }

    public void EcrireLigne(string message)
    {
        Console.WriteLine(message);
    }
}</code></pre><p id="r-5791290" data-claire-element-id="28064841">Alors, nous changeons la classe  <code data-claire-semantic="text">Ihm</code>  par :</p><pre id="r-5791296" data-claire-element-id="27973101"><code data-claire-semantic="csharp">public class Ihm
{
    private readonly IConsole _console;

    public Ihm(IConsole console)
    {
        _console = console;
    }

    public void Demarre()
    {
        FauxDe de = new FauxDe();
        var jeu = new Jeu();
        _console.EcrireLigne($&quot;A l'attaque : points/vie {jeu.Heros.Points}/{jeu.Heros.PointDeVies}&quot;);
        while (jeu.Heros.PointDeVies &gt; 0)
        {
            var resultat = jeu.Tour(de.Lance(), de.Lance());
            switch (resultat)
            {
                case Resultat.Gagne:
                    _console.Ecrire($&quot;Monstre battu&quot;);
                    break;
                case Resultat.Perdu:
                    _console.Ecrire($&quot;Combat perdu&quot;);
                    break;
            }
            _console.EcrireLigne($&quot;: points/vie {jeu.Heros.Points}/{jeu.Heros.PointDeVies}&quot;);
        }
    }
}</code></pre><p id="r-5791297" data-claire-element-id="27973102">Il y a plusieurs choses à remarquer.</p><p id="r-5791298" data-claire-element-id="28064911">Premièrement, j’ai créé un constructeur dans lequel je vais fournir une dépendance vers une classe permettant d’écrire dans la console grâce à l’interface  <code data-claire-semantic="text">IConsole</code>  . La classe  <code data-claire-semantic="text">Ihm</code>  ne sait pas qui va écrire dans la console, ni même comment. Et ce n’est pas son problème. Tout ce qu’elle a besoin de savoir, c’est que l’on va lui fournir quelque chose qui saura écrire dans la console.</p><p id="r-5791299" data-claire-element-id="28115885">Un avantage se dessine : il n’y a pas de couplage entre les deux classes et l'on pourra changer dynamiquement le comportement d’écriture sur la console en fonction de nos besoins. Concrètement, nous utiliserons la vraie classe  <code data-claire-semantic="text">ConsoleDeSortie</code>  dans notre programme et nous utiliserons une fausse classe dans nos tests, qui implémentera bien sûr l’interface  <code data-claire-semantic="text">IConsole</code> .</p><aside id="r-5791301" data-claire-element-id="28115887" data-claire-semantic="information"><p id="r-5791300" data-claire-element-id="28115886">Cela nous permettra de maîtriser cette dépendance. C'est très important !</p></aside><p id="r-5791302" data-claire-element-id="28064758">Ensuite, j’ai bien sûr remplacé l’utilisation de  <code data-claire-semantic="text">Console.Write(Line)</code>  par cette nouvelle classe, qui finalement fera la même chose.</p><p id="r-5791303" data-claire-element-id="27973108">Cette façon de récupérer une dépendance via le constructeur nous force à faire l’instanciation de la classe  <code data-claire-semantic="text">ConsoleDeSortie</code>  directement au niveau de la méthode  <code data-claire-semantic="text">Main</code>  :</p><pre id="r-5791304" data-claire-element-id="27973109"><code data-claire-semantic="csharp">static void Main(string[] args)
{
    var ihm = new Ihm(new ConsoleDeSortie());
    ihm.Demarre();
}</code></pre><p id="r-5791305" data-claire-element-id="28064759">Cette étape devient une phase de composition. (En langage d’injection de dépendances, on appelle cela le <strong>Composition Root.</strong>)</p><p id="r-5791306" data-claire-element-id="27973111">Cependant, nous voyons encore la classe  <code data-claire-semantic="text">FauxDe</code>  directement dans le code de la méthode  <code data-claire-semantic="text">Demarre()</code>  . Nous allons utiliser le même principe et créer une interface que vont implémenter nos deux classes de dé :</p><pre id="r-5791307" data-claire-element-id="27973112"><code data-claire-semantic="csharp">public interface ILanceurDeDe
{
    int Lance();
}

public class De : ILanceurDeDe
{
    private Random random;

    public De()
    {
        random = new Random();
    }

    public int Lance()
    {
        return random.Next(1, 7);
    }
}

public class FauxDe : ILanceurDeDe
{
    private readonly int[] _listeDeJets;
    private int _compteur;

    public FauxDe()
    {
        _listeDeJets = new[] { 4, 5, 1, 1, 4, 3, 5, 6, 6, 6, 1, 2, 4, 2, 3, 2, 6, 4, 5, 1, 1, 4, 3, 5, 6, 6, 6, 1, 2, 4, 2, 3, 2, 6 };
        _compteur = 0;
    }

    public int Lance()
    {
        int tirage = _listeDeJets[_compteur];
        _compteur++;
        return tirage;
    }
}</code></pre><p id="r-5791308" data-claire-element-id="27973113">Ce qui va nous permettre de remplacer le  <code data-claire-semantic="text">FauxDe</code>  dans la classe  <code data-claire-semantic="text">Ihm</code>  :</p><pre id="r-5791309" data-claire-element-id="27973114"><code data-claire-semantic="csharp">public class Ihm
{
    private readonly IConsole _console;
    private readonly ILanceurDeDe _lanceurDeDe;

    public Ihm(IConsole console, ILanceurDeDe lanceurDeDe)
    {
        _console = console;
        _lanceurDeDe = lanceurDeDe;
    }

    public void Demarre()
    {
        var jeu = new Jeu();
        _console.EcrireLigne($&quot;A l'attaque : points/vie {jeu.Heros.Points}/{jeu.Heros.PointDeVies}&quot;);
        while (jeu.Heros.PointDeVies &gt; 0)
        {
            var resultat = jeu.Tour(_lanceurDeDe.Lance(), _lanceurDeDe.Lance());
            switch (resultat)
            {
                case Resultat.Gagne:
                    _console.Ecrire($&quot;Monstre battu&quot;);
                    break;
                case Resultat.Perdu:
                    _console.Ecrire($&quot;Combat perdu&quot;);
                    break;
            }
            _console.EcrireLigne($&quot;: points/vie {jeu.Heros.Points}/{jeu.Heros.PointDeVies}&quot;);
        }
    }
}</code></pre><p id="r-5791310" data-claire-element-id="27973115">La partie intéressante se trouve en haut. Nous recevons une dépendance  <code data-claire-semantic="text">ILanceurDeDe</code>  directement dans le constructeur et nous utilisons celle-ci pour nous fournir deux tirages lors du tour de jeu (ligne 18).</p><p id="r-5791311" data-claire-element-id="27973116">Nous devons maintenant modifier la phase de composition pour fournir la vraie implémentation du lanceur de dé :</p><pre id="r-5791312" data-claire-element-id="27973117"><code data-claire-semantic="csharp">static void Main(string[] args)
{
    var ihm = new Ihm(new ConsoleDeSortie(), new De());
    ihm.Demarre();
}</code></pre><p id="r-5791313" data-claire-element-id="27973118">Si nous relançons notre programme, il est à nouveau fonctionnel. Par contre, le test que nous avons écrit précédemment ne compile plus. Cela tombe bien, car nous allons le modifier.</p><p id="r-5791314" data-claire-element-id="28064760">Mais avant cela, je vous propose de déplacer la classe  <code data-claire-semantic="text">FauxDe</code>  dans le projet de tests. En effet, cette classe n’a rien à faire dans notre jeu. Elle n’a d’intérêt qu’en tant que bouchon pour nos tests. (L’interface, quant à elle, reste bien sûr dans le projet de jeu.)</p><p id="r-5791315" data-claire-element-id="28064761">C’est le moment également de créer une fausse classe d’écriture sur la console, dans le projet de test, bien sûr :</p><pre id="r-5791316" data-claire-element-id="27973121"><code data-claire-semantic="csharp">public class FausseConsole : IConsole
{
    public StringBuilder StringBuilder = new StringBuilder();

    public void Ecrire(string message)
    {
        StringBuilder.Append(message);
    }

    public void EcrireLigne(string message)
    {
        StringBuilder.AppendLine(message);
    }
}</code></pre><p id="r-5791317" data-claire-element-id="28115951">Son but est de stocker tout ce qui aurait dû être écrit dans la console, dans une grosse chaîne de caractères, grâce à la classe  <code data-claire-semantic="text">StringBuilder</code> .</p><p id="r-5791318" data-claire-element-id="27973123">Passons maintenant à la correction du test :</p><pre id="r-5791319" data-claire-element-id="27973124"><code data-claire-semantic="csharp">[TestClass]
public class IhmTests
{
    [TestMethod]
    public void Ihm_AvecUnJeuDeDonnees_LeJoueurGagne()
    {
        // arrange
        var fausseConsole = new FausseConsole();
        var ihm = new Ihm(fausseConsole, new FauxDe());

        // act
        ihm.Demarre();

        // assert
        var resultat = fausseConsole.StringBuilder.ToString();
        resultat.Should().StartWith(&quot;A l'attaque : points/vie 0/15&quot;);
        resultat.Should().EndWith(&quot;Combat perdu: points/vie 9/0\r\n&quot;);
        resultat.Should().HaveLength(560);
    }
}</code></pre><p id="r-5791320" data-claire-element-id="28116071">Il faut bien sûr utiliser nos deux fausses implémentations dans le constructeur de la classe que l’on souhaite tester <em>(phase &quot;arrange&quot;)</em>. On démarre le jeu <em>(phase &quot;act&quot;)</em>. Et ensuite, on vérifie le résultat de l’exécution <em>(phase &quot;assert&quot;)</em>. Ceci est possible grâce à notre fausse classe console qui a enregistré tout ce qui s’est passé.</p><aside id="r-5791322" data-claire-element-id="28116073" data-claire-semantic="information"><p id="r-5791321" data-claire-element-id="28116072">Ici, nous comparons seulement ce qui nous intéresse dans le résultat, sachant que la vérification aurait tout intérêt à être plus poussée. Mais ce test passe, et cette fois-ci, il vérifie vraiment quelque chose !</p></aside><p id="r-5791323" data-claire-element-id="28064861">Ce test est <strong>idempotent,</strong> car nous avons maîtrisé la dépendance au hasard avec un résultat que l’on peut prédire ; nous pouvons donc le rejouer à l’infini en nous jouant bien du hasard ! Et le résultat est bien conforme à ce que mon tirage prévoyait.</p><aside id="r-5791325" data-claire-element-id="28116082" data-claire-semantic="information"><p id="r-5791324" data-claire-element-id="28116081">Nous avons créé ici un bouchon <em>(&quot;stub&quot; en anglais)</em>, tout seul, avec nos petites mains. Ce faux objet comporte une logique nous permettant de vérifier ce que la méthode a vraiment fait.</p></aside><p id="r-5791326" data-claire-element-id="28116083">Ce remaniement a été un peu laborieux, mais ne valait-il pas le coup ? Grâce à lui, nous pouvons mieux tester notre jeu et être certains que nos futurs développements n’introduiront pas de régression. Nous sommes confiants, sereins et motivés pour continuer.</p><p id="r-5791327" data-claire-element-id="28176002">Merci les bouchons. 🙂</p><h3 id="r-5791348" data-claire-element-id="28177044">Poursuivez le développement du jeu</h3><div id="r-5791333" data-claire-element-id="27973144" data-claire-semantic="question"><p id="r-5791331" data-claire-element-id="27973142">Vous avez plein d’idées pour améliorer notre jeu ?</p><p id="r-5791332" data-claire-element-id="27973143">Moi aussi !</p></div><p id="r-5791334" data-claire-element-id="28176004">Combattre un monstre fictif, c’est bien 5 minutes, mais ce serait plus sympa si la météo pouvait s’en mêler. Lançons nous dans une évolution du tour de jeu ! 😄</p><p id="r-5791335" data-claire-element-id="28064808">L’idée est de faire en sorte que la perte de points de vie pour le héros soit plus importante quand il y a de la tempête. Il suffit de changer le tour de jeu pour introduire cela :</p><pre id="r-5791336" data-claire-element-id="28110421"><code data-claire-semantic="csharp">public Resultat Tour(int deHeros, int deMonstre)
{
    if (GagneLeCombat(deHeros, deMonstre))
    {
        Heros.GagneUnCombat();
        return Resultat.Gagne;
    }
    else
    {
        var temps = _fournisseurMeteo.QuelTempsFaitIl();
        if (temps == Meteo.Tempete)
            Heros.PerdsUnCombat(2 * (deMonstre - deHeros));
        else
            Heros.PerdsUnCombat(deMonstre - deHeros);
        return Resultat.Perdu;
    }
}

public enum Meteo
{
    Soleil,
    Pluie,
    Tempete
}</code></pre><p id="r-5791337" data-claire-element-id="28064851">Nous demandons à un fournisseur météo le temps qu’il fait (ligne 10). Et si c’est la tempête, alors les points de vie à retirer sont doublés.</p><p id="r-5791338" data-claire-element-id="28064810">Étant un fan inconditionnel du hasard, notre fournisseur météo va piocher la météo au hasard. Par exemple :</p><pre id="r-5791339" data-claire-element-id="27973150"><code data-claire-semantic="csharp">public interface IFournisseurMeteo
{
    Meteo QuelTempsFaitIl();
}

public class FournisseurMeteo : IFournisseurMeteo
{
    private readonly Random _random;

    public FournisseurMeteo()
    {
        _random = new Random();
    }

    public Meteo QuelTempsFaitIl()
    {
        var tirage = _random.Next(0, 21);
        if (tirage &lt; 10)
            return Meteo.Soleil;
        if (tirage &lt; 20)
            return Meteo.Pluie;
        return Meteo.Tempete;
    }
}</code></pre><p id="r-5791340" data-claire-element-id="28064811">Une implémentation bien naïve, mais peu importe. Ce qui est important, c’est que nous allons avoir un nouveau venu dans les dépendances de la classe  <code data-claire-semantic="text">Jeu</code>  :</p><pre id="r-5791341" data-claire-element-id="27973152"><code data-claire-semantic="csharp">public class Jeu
{
    private readonly IFournisseurMeteo _fournisseurMeteo;

    public Heros Heros { get; }

    public Jeu(IFournisseurMeteo fournisseurMeteo)
    {
        Heros = new Heros(15);
        _fournisseurMeteo = fournisseurMeteo;
    }
    ...
}</code></pre><p id="r-5791342" data-claire-element-id="27973153">Bon, c’est très bien. A priori, vu notre talent de développeur, le code ne peut que fonctionner. Mais encore faudrait-il en être certain...</p><div id="r-5791344" data-claire-element-id="28176006" data-claire-semantic="question"><p id="r-5791343" data-claire-element-id="28176005">Il faut vraiment ? 🧐</p></div><p id="r-5791345" data-claire-element-id="28176007">Oui, bien sûr, il faut des tests ! Cela tombe bien, on en a déjà, mais ils ne compilent plus. 🙁</p><p id="r-5791346" data-claire-element-id="28116261">Nous pourrions donc envisager de faire comme plus haut, en créant une fausse classe qui se déguise en fournisseur de météo. Mais ça, c’était sans compter sur le prochain chapitre, qui va nous emmener dans une nouvelle façon de créer de faux objets.</p><aside id="r-5867868" data-claire-element-id="28177043" data-claire-semantic="information"><p id="r-5867867" data-claire-element-id="28177042">Vous pouvez retrouver l'exemple de ce chapitre dans le <a href="https://github.com/OpenClassrooms-Student-Center/DotNetTestingCourse.git">repository Git</a> et vous rendre dans le répertoire p2ch5, puis ouvrir le projet Jeu4.</p></aside>
</div>
<div class="js-courseSelementActions sideActions">
<ul class="sideActions__container">
<li>
<a class="sideActions__item  js-courseElementActions-copyUrl  js-tooltip" href="#" data-tooltip="Copier le lien" data-tooltip-done="Lien copié !">
#
</a>
</li>
</ul>
</div>
</div>
<nav id="course-pagination" class="course-pagination    clearfix">
<a href="5696236-decouvrez-les-assertions.html" class="button button--secondary  course-pagination__btn course-pagination__btn--previous">
<i class="icon-previous"></i>
<span>Découvrez les assertions</span>
</a>
<span class="course-pagination__separator"></span>
<a href="5696246-utilisez-le-framework-de-simulacre-moq.html" class="button button--secondary  course-pagination__btn course-pagination__btn--next">
<span>Utilisez le framework de simulacre Moq</span>
<i class="icon-next"></i>
</a>
</nav>
<div tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="popin-view-restriction_popin_title" class="popin popin--illustrated  js-popin" id="popin-view-restriction">
<button class="popin__close-button  js-close-button" title="Fermer" aria-label="Fermer">
<i class="icon-close" aria-hidden="true"></i>
</button>
<div class="popin__inner">
<div class="popin__illustrationWrapper">
<div class="popin__illustration illustration--balloon"></div>
</div>
<div class="popin__mainContainer">
<div class="popin__gigTitleContainer js-popin-title">
<div class="gigWorkersPopin__timeline">
<div class="gigWorkersPopin__dot">1</div>
<div class="gigWorkersPopin__line"></div>
<div class="gigWorkersPopin__dot gigWorkersPopin__dot--disabled">2</div>
</div>
<div class="popin__title">Créez un compte <br /> OpenClassrooms</div>
</div>
<div id="popin-view-restriction_popin_title" class="popin__title  js-popin-title">Waouh !</div>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Très heureux de voir que nos cours vous plaisent, déjà 5 pages lues aujourd&#039;hui ! Vous pouvez continuer la lecture de nos cours en devenant un membre de la communauté d&#039;OpenClassrooms. C&#039;est gratuit !
</p>
<p>
Vous pourrez aussi suivre votre avancement dans le cours, faire les exercices et discuter avec les autres membres.
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
<span class="u--inlineBlock">
<a class="button button--primary " href="https://openclassrooms.com/fr/register">S'inscrire</a>
</span>
<span class="u--inlineBlock">
<a class="button button--secondary " href="https://openclassrooms.com/fr/login">Se connecter</a>
</span>
</div>
</div>
</div>
</div>
</section>
</div>
</div>
<script type="text/template" class="js-single-video-download-info">
            <div class="videoDownload js-download-video-popin-link">
                <a href="#popin-download-video" class="js-popin-activator">
                    <i class="icon-download videoDownload__icon"></i> Télécharger la vidéo
                </a>
            </div>
        </script>
<script type="text/template" class="js-all-video-download-info">
            <div class="videoDownload js-download-video-popin-link">
                <a href="#popin-download-all-videos" class="js-popin-activator">
                    <i class="icon-download videoDownload__icon"></i> Télécharger toutes les vidéos de ce cours
                </a>
            </div>
        </script>
<div id="popin-not-certifying-yet_598971" class="popin" data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours.
                            <span><i class='icon-star'></i> Devenez Premium</span>
                    ">
<img alt="Exemple de certificat de réussite" src="http://static.oc-static.com/prod/images/courses/certif.jpg" />
</div>
<div tabindex="-1" role="dialog" aria-hidden="true" class="popin popin--small  js-popin" id="popin-download-video">
<button class="popin__close-button  js-close-button" title="Fermer" aria-label="Fermer">
<i class="icon-close" aria-hidden="true"></i>
</button>
<div class="popin__inner">
<div class="popin__mainContainer">
<div class="popin__gigTitleContainer js-popin-title">
<div class="gigWorkersPopin__timeline">
<div class="gigWorkersPopin__dot">1</div>
<div class="gigWorkersPopin__line"></div>
<div class="gigWorkersPopin__dot gigWorkersPopin__dot--disabled">2</div>
</div>
<div id="popin-download-video_popin_title" class="popin__title">Créez un compte <br /> OpenClassrooms</div>
</div>
<i class="icon-video popin__icon  js-popin-icon"></i>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Le téléchargement des vidéos de nos cours est accessible pour les membres Premium. Vous pouvez toutefois les visionner en streaming gratuitement.
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
<a class="button button--primary js-close-button" href="#">Devenez Premium</a>
</div>
</div>
</div>
</div>
<div id="popin-not-certifying-yet_432824" class="popin" data-popin-title="Vous ne pouvez pas encore obtenir de certificat de réussite à l&#039;issue de ce cours.
                            <span><i class='icon-star'></i> Devenez Premium</span>
                    ">
<img alt="Exemple de certificat de réussite" src="http://static.oc-static.com/prod/images/courses/certif.jpg" />
</div>
<div tabindex="-1" role="dialog" aria-hidden="true" class="popin popin--small  js-popin" id="popin-download-video">
<button class="popin__close-button  js-close-button" title="Fermer" aria-label="Fermer">
<i class="icon-close" aria-hidden="true"></i>
</button>
<div class="popin__inner">
<div class="popin__mainContainer">
<div class="popin__gigTitleContainer js-popin-title">
<div class="gigWorkersPopin__timeline">
<div class="gigWorkersPopin__dot">1</div>
<div class="gigWorkersPopin__line"></div>
<div class="gigWorkersPopin__dot gigWorkersPopin__dot--disabled">2</div>
</div>
<div id="popin-download-video_popin_title" class="popin__title">Créez un compte <br /> OpenClassrooms</div>
</div>
<i class="icon-video popin__icon  js-popin-icon"></i>
<div class="popin__content  js-popin-content">
<div class="popin__contentWrapper">
<p>
Le téléchargement des vidéos de nos cours est accessible pour les membres Premium. Vous pouvez toutefois les visionner en streaming gratuitement.
</p>
</div>
</div>
<div class="popin__actions  js-popin-actions">
<a class="button button--primary js-close-button" href="#">Devenez Premium</a>
</div>
</div>
</div>
</div>
</div>
<aside id="content-with-sidebar" class="contentWithSidebar__sidebar  js-contentWithSidebar-slidingElement">
<nav class="col-nav">
<div id="tab-courseMenu" class="col-nav__inner js-sidebar-inner">
<div class="col-nav__block  col-nav__block--summary">
<div class="side-paginate">
<a href="5696236-decouvrez-les-assertions.html" class="side-paginate__previous" title="Chapitre précédent">
<i class="icon-previous"></i>
</a>
<span class="side-paginate__separator"></span>
<h6 class="side-paginate__title">
Créez des tests unitaires
</h6>
<span class="side-paginate__separator"></span>
<a href="5696246-utilisez-le-framework-de-simulacre-moq.html" class="side-paginate__next" title="Chapitre suivant">
<i class="icon-next"></i>
</a>
</div>
<div class="col-nav__block--summary-list">
<ol class="col-nav__chapters">
<li class="">
<a class="col-nav__chapterTitle" href="5696216-ecrivez-votre-premier-test-unitaire-naif.html">Écrivez votre premier test unitaire naïf</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="5791126-les-principes-dun-framework-de-test.html">Les principes d&#039;un framework de test</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="5696226-utilisez-le-framework-de-test-mstest.html">Utilisez le framework de test MSTest</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="5696236-decouvrez-les-assertions.html">Découvrez les assertions</a>
</li>
<li class="selected">
<span class="col-nav__chapterTitle">Créez un faux objet pour simuler des comportements</span>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="5696246-utilisez-le-framework-de-simulacre-moq.html">Utilisez le framework de simulacre Moq</a>
</li>
<li class="">
<a class="col-nav__chapterTitle" href="6777966-entrainez-vous-a-utiliser-les-tests-pour-detecter-un-probleme-dans-une-application.html">Entrainez-vous à utiliser les tests pour détecter un problème dans une application</a>
</li>
</ol>
<div class="tocExercise"><ul class="tocExercise__list"><li class="tocExercise__item "><a class="tocExercise__link " href="exercises/3129.html"><i class="tocExercise__icon icon-lock"></i><span class="tocExercise__text">Quiz : Prêt.e à utiliser des tests unitaires ?</span></a></li></ul></div> </div>
</div>
<div class="socialNetwork col-nav__block">
<ul class="socialButtons  js-socialButtons" data-options="
                title: 'Créez un faux objet pour simuler des comportements @OCFrance',
        mailTitle: 'Cours &quot;Créez un faux objet pour simuler des comportements&quot; sur OpenClassrooms',
        mailContent: 'Découvrez le cours &quot;Créez un faux objet pour simuler des comportements&quot; sur OpenClassrooms.'">
<li>
<a class="roundIcon  roundIcon--twitter addthis_button_twitter  js-socialButtons-btn" data-tooltip="Partagez sur Twitter">
<i class="roundIcon__icon  icon-twitter"></i>
</a>
</li>
<li>
<a class="roundIcon  roundIcon--facebook  addthis_button_facebook  js-socialButtons-btn" data-tooltip="Partagez sur Facebook">
<i class="roundIcon__icon  icon-facebook"></i>
</a>
</li>
<li>
<a class="roundIcon  addthis_button_email  js-socialButtons-btn  js-socialButtons-email" data-tooltip="Partagez par e-mail">
<i class="roundIcon__icon  icon-letter"></i>
</a>
</li>
</ul>
</div>
</div>
</nav>
</aside>
 </div>
</div>
</div>
<footer id="course-footer" class="alt-section noMarginBottom">
<div class="grid-wrapper">
<div class="grid-inner">
<div class="grid-inner-content  courseFooter">
<div class="courseFooter__authorsOnly course-bottom__category">
<div class="course-bottom__title">
Le professeur
</div>
<div>
<div class="course-bottom__text-illustrated">
<span data-author="Nicolas Hilaire" data-image-cdn-background-image="https://sdz-upload.s3.amazonaws.com/prod/users/avatars/moi8.jpg" data-image-cdn-width="120"></span>
<div class="course-bottom__subtitle" itemprop="name">Nicolas Hilaire</div>
<p itemprop="description">
Expert .NET, artisan logiciel, plusieurs fois honoré du titre Microsoft MVP, mais également curieux des autres technologies.
</p>
</div>
</div>
</div>
</div>
</div>
</div>
</footer>
</article>
</main>
</div>
<div id="mainSearchLegacy" class="mainSearch"></div>
<div id="footerWrapper">
<footer id="footer" class="oc-footerSkeleton">
<hr style="margin-bottom: 8px" />
<div class="grid-wrapper">
<div class="grid-inner">
<div class="oc-footerSkeleton__container">
<div class="oc-footerSkeleton__item">
<div class="oc-footerSkeleton__itemTitle"><span class="skeleton" style="height: 20px; width: 80%"></span></div>
<ul class="oc-footerSkeleton__linksList">
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 70%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 60%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 65%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 40%"></span></a></p>
</li>
</ul>
</div>
<div class="oc-footerSkeleton__item">
<div class="oc-footerSkeleton__itemTitle"><span class="skeleton" style="height: 20px; width: 85%"></span></div>
<ul class="oc-footerSkeleton__linksList">
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 40%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 60%"></span></a></p>
</li>
</ul>
</div>
<div class="oc-footerSkeleton__item">
<div class="oc-footerSkeleton__itemTitle"><span class="skeleton" style="height: 20px; width: 75%"></span></div>
<ul class="oc-footerSkeleton__linksList">
 <li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 65%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 40%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 50%"></span></a></p>
</li>
<li class="oc-footerSkeleton__linksListItem">
<p><a tabindex="inherit"><span class="skeleton" style="height: 14px; width: 40%"></span></a></p>
</li>
</ul>
</div>
<div class="oc-footerSkeleton__item">
<span class="skeleton" style="height: 25px; width: 65%"></span>
<div class="oc-footerSkeleton__socialButtonWrapper">
<div><span class="skeleton skeleton--round" style="width: 40px; height: 40px"></span></div>
<div><span class="skeleton skeleton--round" style="width: 40px; height: 40px;"></span></div>
<div><span class="skeleton skeleton--round" style="width: 40px; height: 40px;"></span></div>
<div><span class="skeleton skeleton--round" style="width: 40px; height: 40px;"></span></div>
<div><span class="skeleton skeleton--round" style="width: 40px; height: 40px;"></span></div>
</div>
<div><span class="skeleton skeleton--width50" style="height: 40px;"></span></div>
</div>
</div>
</div>
</div>
</footer>
</div>
<div id="showDisclaimer" class="cookiesDisclaimer"></div>
<script>
  var isPrerender = !!navigator.userAgent.match(/github\.com\/prerender\/prerender/);
  var preRenderBrowserFakeUa = "Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:61.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/61.0.3163 Safari/537.36";
  var polyfillUrl = "https://cdn.polyfill.io/v3/polyfill.min.js?unknown=polyfill&amp;features=default,es6,IntersectionObserver,Object.values,Array.prototype.includes,Array.prototype.findIndex,Array.prototype.find,Array.from,Promise.prototype.finally,fetch,String.prototype.includes,Object.entries,Array.prototype.entries,Intl.~locale,Array.prototype.flat.fr";

    if (isPrerender) {
    polyfillUrl+= "&ua=" + encodeURIComponent(preRenderBrowserFakeUa);
  }

  App.translations = {};

  App.scripts.push(polyfillUrl);

  App.script = {
      DASHBOARD: 'dashboard',
      MENTORSHIP_STUDENT_DASHBOARD: 'mentorshipStudentdashboard',
      SHOP: 'shop',
      PAYMENT: 'payment',
      PROJECTS: 'projects',
      TEAM: 'team',
      COURSE_EDIT: 'course_edit',
      COURSE_VIEW: 'course_view',
      ADMIN: 'admin',
      ADMIN_STUDENT_CREDENTIAL: 'adminStudentCredential',
      ADMIN_STUDENT_CREDENTIAL_EDIT: 'adminStudentCredentialEdit',
      POST_A_JOB: 'postAJob',
      GIG_WORKERS: 'gigWorkers',
      JOB_SURVEY: 'jobSurvey',
      MCQ_EDIT: 'mcqEdit',
      MCQ_VIEW: 'mcqView',
      MENTOR_EDIT: 'mentorEdit',
      MENTORSHIP_DASHBOARD: 'mentorshipDashboard',
      MENTORSHIP_SESSION: 'mentorshipSession',
      MENTORSHIP_SESSION_CREATE: 'mentorshipSessionCreate',
      MENTORSHIP_SESSION_NON_ASSESSOR_CREATE: 'mentorshipSessionNonAssessorCreate',
    PATHS: 'paths',
    PRIVATE_CONVERSATIONS: 'privateConversations',
    USER_PROFILE: 'userProfile',
    WELCOME: 'welcome',
    APPRENTICESHIP: 'apprenticeship',
    WEBAPP: 'webapp',
    PROJECTS_ADMIN: 'projectsAdmin',
    SECURITY: 'security',
  };
</script>
<script>App.scripts.push("https://openclassrooms.com/js/runtime.4c4ad3f6a13cc20ab325.js");</script>
<script>App.scripts.push("https://openclassrooms.com/js/index.28cedfedcf6a0f3797d8.js");</script>
<script type="text/javascript">
        function getConsentedSegmentIntegrations() {
            // getCookie from https://www.w3schools.com/js/js_cookies.asp
            function getCookie(cname) {
                var name = cname + "=";
                var decodedCookie = decodeURIComponent(document.cookie);

                var ca = decodedCookie.split(';');
                for(var i = 0; i <ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) === ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) === 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }

            var consent = getCookie('cmapi_cookie_privacy');

            function isCookieAllowedByConsent(consent, level) {
              return !!consent && consent.search(level) !== -1;
            }

            var isFunctionalCookieAllowed = isCookieAllowedByConsent(consent, 2);
            var isAdvertisingCookieAllowed = isCookieAllowedByConsent(consent, 3);

            var isAppCuesPremiumUser = false;

            var isOnPoleEmploiPage = !!window && window.location.pathname.indexOf('partners/pole-emploi/offers') >= 0;

            return {
                Amplitude: isFunctionalCookieAllowed,
                'Bing Ads': isAdvertisingCookieAllowed,
                'Google Ads': isAdvertisingCookieAllowed,
                'Google Analytics': isFunctionalCookieAllowed,
                'Zendesk': isFunctionalCookieAllowed,
                Appcues: (isAppCuesPremiumUser || isOnPoleEmploiPage) && isFunctionalCookieAllowed,
            };
        }

        var consentedSegmentIntegrations = getConsentedSegmentIntegrations();

        !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
            window.loadAnalytics = function () { window.analytics.load('mou95e6tdn', {integrations: consentedSegmentIntegrations}) };
        }}();
    </script>

<script>App.scriptToLoad = App.script.COURSE_VIEW</script>

<script>
    (function () {
        function loadScripts(cb) {
            App.scripts.forEach(function (src, index) {
                var script = document.createElement('script');
                script.src = src;
                script.async = false;
                document.body.appendChild(script);

                if (cb && index === App.scripts.length - 1) {
                    script.onload = cb;
                }
            });
        }

        function boot() {
            loadScripts(function () {
                if (App.modules) {
                    App.modules.startAll();
                }
            });
        }

        if (window.addEventListener) {
            window.addEventListener('load', boot, false);
        } else if (window.attachEvent) {
            window.attachEvent('onload', boot);
        } else {
            window.onload = boot;
        }
    }());
</script>
<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.eu01.nr-data.net","licenseKey":"NRJS-5b58725ce0d442079d0","applicationID":"156815673","transactionName":"MhBSZQoZVhJWB0xfDAtac0QLDFcMGAtbaQAJFFlDHSdbDkIWS1M8FRRCRScIWRNDO05fBhI=","queueTime":0,"applicationTime":404,"atts":"HldRE0IDRRw=","errorBeacon":"bam.eu01.nr-data.net","agent":""}</script><script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"rayId":"68b3c461efb73fea","token":"8e698008242e427fae12788d79d12ecf","version":"2021.8.1","si":10}'></script>
</body>

<!-- Mirrored from openclassrooms.com/fr/courses/5641591-testez-votre-application-c/5791236-creez-un-faux-objet-pour-simuler-des-comportements by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 07 Sep 2021 23:38:00 GMT -->
</html>
